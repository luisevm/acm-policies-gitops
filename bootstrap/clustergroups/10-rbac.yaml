apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: openshift-gitops-policy-admin
rules:
  - apiGroups: ["policy.open-cluster-management.io"]
    resources: ["policies","placementbindings","policysets","policysetbindings"]
    verbs: ["get","list","watch","create","update","patch","delete"]
  - apiGroups: ["cluster.open-cluster-management.io"]
    resources: ["placements","placementdecisions"]   # at least read
    verbs: ["get","list","watch","create","update","patch","delete"]
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: openshift-gitops-policy-admin
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: openshift-gitops-policy-admin
subjects:
  - kind: ServiceAccount
    name: openshift-gitops-argocd-application-controller
    namespace: openshift-gitops
#---
#apiVersion: rbac.authorization.k8s.io/v1
#kind: RoleBinding
#metadata:
#  name: openshift-gitops-policy-admin
#  namespace: acm-policies
#roleRef:
#  apiGroup: rbac.authorization.k8s.io
#  kind: ClusterRole
#  name: openshift-gitops-policy-admin
#subjects:
#  - kind: ServiceAccount
#    name: openshift-gitops-argocd-application-controller
#    namespace: openshift-gitops